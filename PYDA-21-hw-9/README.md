# Домашнее задание к лекции «Регулярные выражения и основы синтаксического разбора»

<a id='contents'></a>
## Оглавление:
### [Задание 1](#task1)
Напишите функцию, которая принимает на вход строку и проверяет является ли она валидным транспортным номером (1 буква, 3 цифры, 2 буквы, 2-3 цифры). Обратите внимание, что не все буквы кириллического алфавита используются в транспортных номерах.  
Если номер валиден, то функция должна возвращать отдельно номер и регион.  
Примеры работы программы:  
- car_id = 'А222BС96’   
Результат: Номер А222BС валиден. Регион: 96    
- car_id = 'АБ22ВВ193’  
Результат: Номер не валиден

### [Задание 2](#task2)
Напишите функцию, которая будет удалять все последовательные повторы слов из заданной строки при помощи регулярных выражений.

Пример работы программы:

some_string = ‘Напишите функцию функцию, которая будет будет будет будет удалять все все все все последовательные повторы слов из из из из заданной строки строки при помощи регулярных выражений’

Результат: Напишите функцию, которая будет удалять все последовательные повторы слов из заданной строки при помощи регулярных выражений.
### [Задание 3](#task3)
Напишите функцию, которая будет возвращать акроним по переданной в нее строке со словами.

Примеры работы программы:

some_words = 'Информационные технологии’
Результат: ИТ

some_words = 'Near Field Communication’
Результат: NFC

### [Задание 4](#task4)
Напишите функцию, которая будет принимать на вход список email-адресов и выводить их распределение по доменным зонам.

Пример работы программы:

emails = [‘test@gmail.com, xyz@test.in, test@ya.ru, xyz@mail.ru, xyz@ya.ru’, xyz@gmail.com]

Результат:

gmail.com: 2
test.in: 1
ya.ru: 2
mail.ru: 1

### [Задание 5](#task5) (необязательное)

Напишите функцию, которая будет подсчитывать сколько слов начинается на гласные, а сколько на согласные буквы в тексте (текст может быть написан как с использованием букв кириллицы, так и латиницы).

Пример работы программы:

some_text = ‘Эталонной реализацией Python является интерпретатор CPython, поддерживающий большинство активно используемых платформ. Он распространяется под свободной лицензией Python Software Foundation License, позволяющей использовать его без ограничений в любых приложениях, включая проприетарные.’

Результат:

Слов на гласные буквы: 9
Слов на согласные буквы: 21

### [Задание 6](#task6) (необязательное)

Напишите функцию, которая будет проверять номер сотового телефона на валидность, если он валиден, то переводить его в формат:
+7-xxx-xxx-xx-xx
Постарайтесь предусмотреть как можно больше адекватных форматов изначального ввода номера. Примеры работы программы:

phone = '+7 955 555-55-55’
Результат: +7-950-555-55-55

phone = '8(955)555-55-55’
Результат: +7-950-555-55-55

phone = '+7 955 555 55 55’
Результат: +7-950-555-55-55

phone = '7(955) 555-55-55’
Результат: +7-950-555-55-55

phone = '423-555-55-5555’
Результат: Номер не валиден

phone = '123-456-789’
Результат: Номер не валиден

<a id='task1'></a>
## Задание 1


```python
import re
```


```python
def check_num(in_num):
    out_num = re.findall(r'[АВЕКМНОРСТУХABEKMHOPCTYX]{1}\d{3}[АВЕКМНОРСТУХABEKMHOPCTYX]{2}\d{2}', in_num)
    out_reg = re.findall(r'(?<=\w{1}\d{3}\w{2})\d{2}', *out_str)
    if out_num:
        return f'Результат: Номер {"".join(out_num)} валиден. Регион: {"".join(out_reg)}'
    return 'Результат: Номер не валиден'
```


```python
car_id = 'А222BС96'
```


```python
print(check_num(car_id))
```

    Результат: Номер не валиден
    


```python
car_id = 'АБ22ВВ193'
```


```python
print(check_num(car_id))
```

    Результат: Номер не валиден
    

[к оглавлению](#contents)

<a id='task2'></a>
## Задание 2


```python
some_string = 'Напишите функцию функцию, которая будет будет будет будет удалять все все все все последовательные повторы cлов из из из из заданной строки строки при помощи регулярных выражений'
```


```python
def dub_kill(in_string):
    '''
    Удаляет все повторы слов в строке
    '''
    return re.sub(r'(\s\w+)\1+', r'\1', some_string)
```


```python
dub_kill(some_string)
```




    'Напишите функцию, которая будет удалять все последовательные повторы cлов из заданной строки при помощи регулярных выражений'



[к оглавлению](#contents)

<a id='task3'></a>
## Задание 3


```python
def acronym(in_string):
    '''
    Возвращает акроним словосочетания
    '''
    return re.sub(r'(\B\w+\s*\b)', r'', in_string).upper()
```


```python
some_words = 'Информационные технологии'
```


```python
acronym(some_words)
```




    'ИТ'




```python
some_words = 'Near Field Communication'
```


```python
acronym(some_words)
```




    'NFC'



[к оглавлению](#contents)

<a id='task4'></a>
## Задание 4


```python
emails = ['test@gmail.com', 'xyz@test.in', 'test@ya.ru', 'xyz@mail.ru', 'xyz@ya.ru', 'xyz@gmail.com']
```


```python
def domain_count(in_list):
    '''
    Рассчитывает число повторений каждой доменной зоны
    '''
    # переводим список в строку через join для обработки через регулярные выражения
    domain_list = re.findall(r'(?!\w+@)\w+.\w+', " ".join(in_list))
    # для проверки числа вхождений создаем вспомогательное множество
    # с помощью set c уникальными доменными именами
    for domain_el in set(domain_list):
        print(f'{domain_el}: {domain_list.count(domain_el)}')
```


```python
domain_count(emails)
```

    ya.ru: 2
    gmail.com: 2
    test.in: 1
    mail.ru: 1
    

[к оглавлению](#contents)

<a id='task5'></a>
## Задание 5


```python
some_text = 'Эталонной реализацией Python является интерпретатор CPython, поддерживающий большинство активно используемых платформ. Он распространяется под свободной лицензией Python Software Foundation License, позволяющей использовать его без ограничений в любых приложениях, включая проприетарные.'
```


```python
def words_count(in_string):
    '''
    Считает количество слов, начинающихся с гласных и согласных букв русского и латинского алфавита
    '''
    # используем ранее написанную функцию для получение акронима фразы
    # удаляем все небуквенные символы
    temp = re.sub(r'[\s!?.,-]', '', acronym(some_text))
    vovels = len(re.findall(r'[А, У, О, Ы, И, Э, Я, Ю, Ё, Е, A, E, I, O, U, Y]', temp))
    return f'Результат:\nСлов на гласные буквы: {vovels}\nСлов на согласные буквы: {len(temp)-vovels}'
```


```python
print(words_count(some_text))
```

    Результат:
    Слов на гласные буквы: 9
    Слов на согласные буквы: 21
    

[к оглавлению](#contents)

<a id='task6'></a>
## Задание 6


```python
def phone_converter(in_number):
    temp = re.sub(r'[+\s()-]', '', phone)
    if len(temp) != 11 or "".join(re.findall(r'\b\d{1}', temp)) not in ['8', '7']:
        return f'Результат: Номер не валиден'
    else:
        return re.sub(r'(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})', r'+7-\2-\3-\4-\5', temp)
```


```python
phone = '+7 955 555-55-55'
```


```python
phone_converter(phone)
```




    '+7-955-555-55-55'




```python
phone = '8(955)555-55-55'
```


```python
phone_converter(phone)
```




    '+7-955-555-55-55'




```python
phone = '+7 955 555 55 55'
```


```python
phone_converter(phone)
```




    '+7-955-555-55-55'




```python
phone = '7(955) 555-55-55'
```


```python
phone_converter(phone)
```




    '+7-955-555-55-55'




```python
phone = '423-555-55-5555'
```


```python
phone_converter(phone)
```




    'Результат: Номер не валиден'




```python
phone = '123-456-789'
```


```python
phone_converter(phone)
```




    'Результат: Номер не валиден'



[к оглавлению](#contents)
